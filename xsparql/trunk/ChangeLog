2008-10-23  Nuno Lopes  <nuno.lopes@deri.org>

	* paper/eswc2008.tex (): update rewriting rules to new rewriting $_

	* w3c-submission/xsparql-Overview.html: update rewriting rules to
	new rewriting $_
	commented related work and removed conclusions

2008-10-22  Nuno Lopes  <nuno.lopes@deri.org>

	* w3c-submission/xsparql-Overview.html (name): new grammar rules

	* paper/eswc2008.tex: only display the changed grammar rules. 
	update the paper to state that the rewriting uses variables and
	other names beginning with '_'
	

2008-10-21  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/lifrewriter.py: use rewriting
	variables starting with '_'

	* online-interface/xsparql.xquery: rename of functions to start
	with '_'

	* software/xsparqlow/xsparql/lowrewriter.py (build_sparql_query):
	allow variables in the from clause
	(build_bnode): use rewriting variables starting with '_'


	* software/xsparqlow/xsparql/grammar.py (p_datasetClause): allow
	variables in the from clause
	disallow variables starting with $_
	use rewriting variables starting with '_'

2008-10-20  Axel Polleres  <axepol@vmgal46.nuigalway.ie>

	* software/xsparqlow/xsparql/grammar.py: remove item as a reserved
	word

2008-10-20  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/grammar.py: allow '_' in the
	elements (PN_CHARS_U)

2008-10-17  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/grammar.py (p_verb): remove
	enclosedExpr option: would allow {} on the predicate position.

2008-10-16  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/grammar.py: underscore was still
	being allowed in the grammar. Removed.
	(t_INITIAL_pattern_iri_error): exit the parser if it finds an
	illegal character.
	(p_whereSPARQLClause): rename whereTemplate to GroupGraphPattern
	to follow the SPARQL names. 

2008-10-15  Nuno Lopes  <nuno.lopes@deri.org>

	* paper/eswc2008.tex: fixes to the rewriting examples to match the
	implementation

	* online-interface/examples/XSPARQL/03_vCard2foaf.xsparql: removed
	duplicate triple pattern in the example

2008-10-14  Nuno Lopes  <nunolopes@vmgal46.nuigalway.ie>

	* online-interface/xsparql.xquery: improved the functions to check
	the validity of elements

2008-10-10  Nuno Lopes  <nuno.lopes@deri.org>

	* paper/eswc2008.tex: update the report to reflect the format of
	construct queries.  Detail the functions validSubject,
	validPredicate and validObject

2008-10-08  Nuno Lopes  <nuno.lopes@deri.org>

	* examples/extra-queries/ (Module): more example queries


	* software/xsparqlow/xsparql/lowrewriter.py (build_predicate):
	fixes the case of [] being in the subject position in a sparql
	construct query

	* online-interface/examples/XSPARQL/06_simple2.xsparql: change the
	query format to use <{}>

	* online-interface/examples/XSPARQL/05_simple.xsparql: change the
	query format to use <{}>

2008-10-07  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/lowrewriter.py (build_bnode): changed
	the way to access the declared variables

	* software/xsparqlow/xsparql/lifrewriter.py (build_rewrite_query):
	in the construct part handle a previously declared variable $var
	in the same way as {$var}

	* examples/query/output/pathExpression08.xsparql (Module): new
	rewriting for these examples

	* examples/query/output/simple.xsparql (Module): new
	rewriting for these examples

	* examples/query/output/simple2.xsparql (Module): new
	rewriting for these examples

2008-10-06  Nuno Lopes  <nuno.lopes@deri.org>

	* online-interface/index.php: added Nuno Lopes to the team

	* online-interface/xsparqlrewrite: correction of path

	* online-interface/xsparql.xquery: merge of changes to functions
	made in the server

2008-10-06  Nuno Lopes  <nuno.lopes@deri.org>

	* examples/query/output/foaf_lowering.xsparql: new rewriting for
	the foaf_lowering example

	* software/xsparqlow/xsparql/lowrewriter.py: Allow nested
	variables in the "where" part
	variables from a sparql are also outputed surrounded by quotes

	* software/xsparqlow/xsparql/grammar.py: Allow nested variables in
	the "where" part

2008-09-04  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/lowrewriter.py (buildConstruct):
	Create a copy of the graphpattern to send to 'find_vars'.
	Otherwise the query structure might be altered.

2008-09-03  Nuno Lopes  <nuno.lopes@deri.org>

	*  added new test cases for path expressions
	*  fix of detected problems

2008-08-27  Nuno Lopes  <nuno.lopes@deri.org>

	* online-interface/tempfiles/backup.sh: shell script to create a
	backup file of the existing query output files. To add as a cronjob

	* online-interface/xsparqlrewrite: show stderr msgs in interface

	* software/xsparqlow/xsparql/debug.py: aux function to print debug
	info

2008-08-22  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/grammar.py: Error printing is now
	done to stderr.
	(p_queryBody): auxiliary functions moved to a xquery module
	available at http://xsparql.deri.org/xsparql.xquery.

2008-08-20  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/lifrewriter.py: rewriting for the
	lifting checks if it the variable is a valid subject, predicate or
	object.

	* software/xsparqlow/xsparql/grammar.py: rewriting for the
	lifting checks if it the variable is a valid subject, predicate or
	object.


2008-08-14  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/grammar.py: new syntax for
	nested expressions in constructs: _:{} for a bnode, <{}> or {}:{}
	for iri. The {} is defined as being a literal "{}".

2008-08-12  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/grammar.py (p_qname): Resolved 1
	shift/reduce by using the definition from:
	http://www.w3.org/TR/REC-xml-names/#NT-QName and defining one new
	terminal.  Removed the rule sparqlqname.
	(p_blank): removed bnodeWithExpr (to check foaf_lifting)
	(find_column): new function to calculate the column in case of
	syntax error.  New error reporting format.

2008-07-29  Nuno Lopes  <nl@unikhorn.ie.deri.local>

	* software/xsparqlow/xsparql/grammar.py: grammar refactoring.
	There are still 2 shift/reduce and the grammar was restricted in
	the following ways:
	1) example query/fdwlm.xsparql: return <user></user><dist></dist>
	is not allowed.  It needs to be return <node><user></user><dist></dist></node>
	2) FOR (...) constructTemplate letClause solutionmodifier was
	removed. To check how to add later.


2008-07-22  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql/grammar.py: added comments in the
	form '(: ' and ' :)'
	* software/xsparqlow/xsparql/grammar.py: changed the NCNAME
	definition: according to
	http://www.w3.org/TR/REC-xml-names/#NT-NCName it cannot start with
	a digit


2008-07-18  Nuno Lopes  <nuno.lopes@deri.org>

	* software/xsparqlow/xsparql: bring code in CVS to the same state
	as the web interface.  Some revisions were discarded.  The parser
	now returns exit code 1 on syntax error.
	* online-interface: rewrite xsparqlrewrite to handle more
	cases. If there is a parse error return the original query.
