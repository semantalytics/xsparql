<!--


    Copyright (C) 2011, NUI Galway.
    All rights reserved.

    The software in this package is published under the terms of the BSD style license a copy of which has been included
    with this distribution in the bsb_license.txt file and/or available on NUI Galway Server at
    http://xsparql.deri.ie/license/bsd_license.txt

    Created: 09 February 2011, Reasoning and Querying Unit (URQ), Digital Enterprise Research Institute (DERI) on behalf of
    NUI Galway.

-->
<!DOCTYPE html SYSTEM "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head><title>XSPARQL Tutorial</title></head>
  <link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js" type="text/javascript"></script>
  <body>
    <h1>XSPARQL Tutorial</h1>
    <p>updated on August 31st, 2011</p>
    <h2>Why XSPARQL?</h2>
    <p>At this point you should already be convinced of XSPARQL. If not ... well, just try it.</p>
    <h2>What you should know beforehand</h2>
    <p>XSPARQL is composed of the two query languages XQuery and SPARQL. It is designed to be used by people who know at least one of those languages well. The following sites could help you learn SPARQL:
      <ul><li><a href="http://jena.sourceforge.net/ARQ/Tutorial/">http://jena.sourceforge.net/ARQ/Tutorial/</a></li></ul>
      And the following resources could help you learn XQuery:
      <ul><li>Buy a book</li></ul>
    </p>
    <p></p>
    <p>To run the examples type them in the <a href="http://xsparql.deri.org/demo">web demo</a> or download the <a href="http://xsparql.deri.org/download">XSPARQL prototype</a> which includes a command line interface.</p>
    <h2>XSPARQL: SPARQL on Steroids</h2>
    <p>how about the fn:concat example</p>
    <pre>prefix vc: &lt;http://www.w3.org/2001/vcard-rdf/3.0#&gt;
prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
construct { _:b foaf:name {fn:concat(<var>$N</var>," ", <var>$F</var>)}.}
from &lt;http://xsparql.deri.org/data/vCard.rdf&gt;
where { <var>$P</var> vc:Given <var>$N</var>. <var>$P</var> vc:Family <var>$F</var>. }</pre>
    <h2>XSPARQL: Combining XQuery with SPARQL</h2>
    
    <h2>Use XSPARQL in your programs</h2>
    
    <h3>Java API</h3>
    
    <p>Simple example: evaluate an XSPARQL query in one line:</p>
    
    <pre><code>String result = new XSPARQLEvaluator().evaluate(new StringReader("... your XSPARQL query ..."));</code></pre>
    
    <p>The two most important classes are <code>XSPARQLProcessor</code> and <code>XSPARQLEvaluator</code>. The first one rewrites given XSPARQL queries to XQuery queries containing extensions specific to a single XQuery engine. The second one evaluates this rewritten query using that XQuery engine, finally returning the evaluation result as a string.</p>
    <p>An example on how to evaluate an XSPARQL query would look like this:</p>
    
    <pre>String query = "... your XSPARQL query ...";
XSPARQLProcessor processor = XSPARQLProcessor.newProcessor();
String xquery = processor.rewrite(query);
XSPARQLEvaluator xe = new XSPARQLEvaluator();
xe.evaluateRewrittenQuery(xquery, System.out);</pre>

    <p>If you want to set the source document (you can use any <code>InputStream</code> or <code>Reader</code> as argument of the  <code>StreamSource</code> constructor in the example):</p>
    
    <pre><code>XSPARQLEvaluator = new XSPARQLEvaluator();
xe.setSource(new StreamSource(new StringReader("... your xml data ...")));
xe.evaluate(new StringReader("... your XSPARQL query ..."));</code></pre>

    <h3>OSGi</h3>
    
    <h3>Servlet/Webapp</h3>
    
  </body>
</html>